<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Chordy - Chord Dictionary</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 30px; background-color: #f4f4f4; }
        .controls { margin-bottom: 25px; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: inline-block; }
        select { padding: 8px 15px; font-size: 16px; border-radius: 4px; border: 1px solid #ccc; outline: none; cursor: pointer; }

        .contenedor-tablas { display: flex; flex-direction: column; gap: 40px; }
        
        table { border: 1px solid #595959; border-collapse: collapse; background: white; width: 100%; max-width: 1100px; }
        td, th { border: 1px solid #595959; padding: 10px 8px; text-align: center; }
        th { background: #f0e6cc; color: #333; text-transform: uppercase; font-size: 0.85em; }

        .col-nombre { width: 280px; text-align: left !important; padding-left: 20px; font-weight: bold; }
        .col-armonico { width: 70px; color: #444; font-size: 0.9em; }
        .col-americano { width: 130px; font-weight: 500; }
        
        .even { background: #fbf8f0; }
        .odd { background: #fefcf9; }
        tr:hover { background: #f1f1f1; }
        
        .seccion-titulo { 
            background: #e0d6bc !important; 
            font-weight: bold; 
            text-align: left !important; 
            padding-left: 20px;
        }

        sup { font-size: 0.7em; }
        s { text-decoration: line-through; }
    </style>
</head>
<body>

<div class="controls">
    <label><strong>Selecciona la Tonalidad:</strong> </label>
    <select id="nota-raiz" onchange="actualizarTodo()">
        <optgroup label="Naturales">
            <option value="C" selected>Do (C)</option>
            <option value="D">Re (D)</option>
            <option value="E">Mi (E)</option>
            <option value="F">Fa (F)</option>
            <option value="G">Sol (G)</option>
            <option value="A">La (A)</option>
            <option value="B">Si (B)</option>
        </optgroup>
        <optgroup label="Sostenidos (â™¯)">
            <option value="C#">Doâ™¯ (Câ™¯)</option>
            <option value="D#">Reâ™¯ (Câ™¯)</option>
            <option value="F#">Faâ™¯ (Fâ™¯)</option>
            <option value="G#">Solâ™¯ (Gâ™¯)</option>
            <option value="A#">Laâ™¯ (Aâ™¯)</option>
        </optgroup>
        <optgroup label="Bemoles (â™­)">
            <option value="Db">Reâ™­ (Dâ™­)</option>
            <option value="Eb">Miâ™­ (Eâ™­)</option>
            <option value="Gb">Solâ™­ (Gâ™­)</option>
            <option value="Ab">Laâ™­ (Aâ™­)</option>
            <option value="Bb">Siâ™­ (Bâ™­)</option>
        </optgroup>
    </select>
</div>

<div class="contenedor-tablas">
    <div id="tabla-triadas"></div>
    <div id="tabla-cuatriadas"></div>
</div>

<script>
const diccionarioMusical = {
    "C":  { m3: "Eâ™­", M3: "E",  d5: "Gâ™­", p5: "G",  a5: "Gâ™¯", d7: "Bğ„«", m7: "Bâ™­", M7: "B" },
    "C#": { m3: "E",  M3: "Eâ™¯", d5: "G",  p5: "Gâ™¯", a5: "Gğ„ª", d7: "Bâ™­",  m7: "B",  M7: "Bâ™¯" },
    "Db": { m3: "Fâ™­", M3: "F",  d5: "Ağ„«", p5: "Aâ™­", a5: "A",  d7: "Cğ„«", m7: "Câ™­", M7: "C" },
    "D":  { m3: "F",  M3: "Fâ™¯", d5: "Aâ™­", p5: "A",  a5: "Aâ™¯", d7: "Câ™­",  m7: "C",  M7: "Câ™¯" },
    "D#": { m3: "Fâ™¯", M3: "Fğ„ª", d5: "A",  p5: "Aâ™¯", a5: "Ağ„ª", d7: "C",   m7: "Câ™¯", M7: "Cğ„ª" },
    "Eb": { m3: "Gâ™­", M3: "G",  d5: "Bğ„«", p5: "Bâ™­", a5: "B",  d7: "Dğ„«", m7: "Dâ™­", M7: "D" },
    "E":  { m3: "G",  M3: "Gâ™¯", d5: "Bâ™­", p5: "B",  a5: "Bâ™¯", d7: "Dâ™­",  m7: "D",  M7: "Eâ™¯" },
    "F":  { m3: "Aâ™­", M3: "A",  d5: "Câ™­", p5: "C",  a5: "Câ™¯", d7: "Eğ„«", m7: "Eâ™­", M7: "E" },
    "F#": { m3: "A",  M3: "Aâ™¯", d5: "C",  p5: "Câ™¯", a5: "Cğ„ª", d7: "Eâ™­",  m7: "E",  M7: "Eâ™¯" },
    "Gb": { m3: "Bğ„«", M3: "Bâ™­", d5: "Dğ„«", p5: "Dâ™­", a5: "D",  d7: "Fğ„«", m7: "Fâ™­", M7: "F" },
    "G":  { m3: "Bâ™­", M3: "B",  d5: "Dâ™­", p5: "D",  a5: "Dâ™¯", d7: "Fâ™­",  m7: "F",  M7: "Fâ™¯" },
    "G#": { m3: "B",  M3: "Bâ™¯", d5: "D",  p5: "Dâ™¯", a5: "Dğ„ª", d7: "F",   m7: "Fâ™¯", M7: "Fğ„ª" },
    "Ab": { m3: "Câ™­", M3: "C",  d5: "Eğ„«", p5: "Eâ™­", a5: "E",  d7: "Gğ„«", m7: "Gâ™­", M7: "G" },
    "A":  { m3: "C",  M3: "Câ™¯", d5: "Eâ™­", p5: "E",  a5: "Eâ™¯", d7: "Gâ™­",  m7: "G",  M7: "Gâ™¯" },
    "A#": { m3: "Câ™¯", M3: "Cğ„ª", d5: "E",  p5: "Eâ™¯", a5: "Eğ„ª", d7: "G",   m7: "Gâ™¯", M7: "Gğ„ª" },
    "Bb": { m3: "Dâ™­", M3: "D",  d5: "Fâ™­", p5: "F",  a5: "Fâ™¯", d7: "Ağ„«", m7: "Aâ™­", M7: "A" },
    "B":  { m3: "D",  M3: "Dâ™¯", d5: "F",  p5: "Fâ™¯", a5: "Fğ„ª", d7: "Aâ™­",  m7: "A",  M7: "Aâ™¯" }
};

// Mapeo para mostrar la raÃ­z con el sÃ­mbolo correcto en el cifrado americano
const simboloRaiz = {
    "C#": "Câ™¯", "D#": "Dâ™¯", "F#": "Fâ™¯", "G#": "Gâ™¯", "A#": "Aâ™¯",
    "Db": "Dâ™­", "Eb": "Eâ™­", "Gb": "Gâ™­", "Ab": "Aâ™­", "Bb": "Bâ™­",
    "C": "C", "D": "D", "E": "E", "F": "F", "G": "G", "A": "A", "B": "B"
};

function actualizarTodo() {
    const raiz = document.getElementById("nota-raiz").value;
    const datos = diccionarioMusical[raiz];
    const raizBella = simboloRaiz[raiz];
    
    renderTrÃ­adas(raizBella, datos);
    renderCuatrÃ­adas(raizBella, datos);
}

function renderTrÃ­adas(raiz, datos) {
    const tipos = [
        { nombre: "Perfecto mayor (3ÂºM, 5ÂºJ)", suf: "", t: datos.M3, q: datos.p5 },
        { nombre: "Perfecto menor (3Âºm, 5ÂºJ)", suf: "m", t: datos.m3, q: datos.p5 },
        { nombre: "De 5Âª disminuida (3Âºm, 5Âªdim)", suf: "dim", t: datos.m3, q: datos.d5 },
        { nombre: "De 5Âª aumentada (3ÂºM, 5ÂªA)", suf: "aug", t: datos.M3, q: datos.a5 }
    ];

    let html = `<table>
        <thead>
            <tr><th colspan="1" class="seccion-titulo">ACORDES TRÃADAS</th><th colspan="3">CIFRADO ARMÃ“NICO</th><th colspan="3">CIFRADO AMERICANO</th></tr>
            <tr><th class="col-nombre">Tipos de acordes</th><th>Fund.</th><th>1Âªinv.</th><th>2Âªinv.</th><th>Fund.</th><th>1Âªinv.</th><th>2Âªinv</th></tr>
        </thead>
        <tbody>`;

    tipos.forEach((tipo, i) => {
        const clase = i % 2 === 0 ? 'odd' : 'even';
        const cifrado = raiz + tipo.suf;
        let armonicoCells = i === 0 ? `<td rowspan="4">(5)<br>(3)</td><td rowspan="4">6<br>(3)</td><td rowspan="4">6<br>4</td>` : '';
        html += `<tr class="${clase}">
            <td class="col-nombre">${tipo.nombre}</td>${armonicoCells}
            <td>${cifrado}</td><td>${cifrado}/${tipo.t}</td><td>${cifrado}/${tipo.q}</td>
        </tr>`;
    });
    html += `</tbody></table>`;
    document.getElementById("tabla-triadas").innerHTML = html;
}

function renderCuatrÃ­adas(raiz, datos) {
    const tipos = [
        { nombre: "7Âª de dominante (3ÂªM, 5ÂªJ, 7Âªm)", suf: "7", arm: ["7<br>+", "6<br><s>5</s>", "+6", "+4"], t: datos.M3, q: datos.p5, s: datos.m7 },
        { nombre: "3ÂªM, 5ÂªJ, 7ÂªM", suf: "maj7", arm: ["7", "6<br>5", "4<br>3", "(4)<br>2"], t: datos.M3, q: datos.p5, s: datos.M7 },
        { nombre: "3ÂªM, 5ÂªA, 7ÂªM", suf: "maj7â™¯5", arm: ["7", "6<br>5", "4<br>3", "(4)<br>2"], t: datos.M3, q: datos.a5, s: datos.M7 },
        { nombre: "3ÂªM, 5ÂªA, 7Âªm", suf: "7â™¯5", arm: ["7", "6<br>5", "4<br>3", "(4)<br>2"], t: datos.M3, q: datos.a5, s: datos.m7 },
        { nombre: "3Âªm, 5ÂªJ, 7Âªm", suf: "m7", arm: ["7", "6<br>5", "4<br>3", "(4)<br>2"], t: datos.m3, q: datos.p5, s: datos.m7 },
        { nombre: "3Âªm, 5Âªd, 7Âªm (Semidis.)", suf: "m7â™­5", arm: ["7<br><s>5</s>", "6<br>5", "4<br>3", "(4)<br>2"], t: datos.m3, q: datos.d5, s: datos.m7 },
        { nombre: "3Âªm, 5Âªd, 7Âªd (Disminuida)", suf: "dim7", arm: ["<s>7</s>", "6<br>5", "4<br>3", "(4)<br>2"], t: datos.m3, q: datos.d5, s: datos.d7 }
    ];

    let html = `<table>
        <thead>
            <tr><th colspan="1" class="seccion-titulo">ACORDES CUATRÃADAS</th><th colspan="4">CIFRADO ARMÃ“NICO</th><th colspan="4">CIFRADO AMERICANO</th></tr>
            <tr><th class="col-nombre">Tipos de acordes</th>
                <th>Fund.</th><th>1Âªinv.</th><th>2Âªinv.</th><th>3Âªinv.</th>
                <th>Fund.</th><th>1Âªinv.</th><th>2Âªinv.</th><th>3Âªinv.</th>
            </tr>
        </thead>
        <tbody>`;

    tipos.forEach((tipo, i) => {
        const clase = i % 2 === 0 ? 'odd' : 'even';
        const cifrado = raiz + tipo.suf;
        
        html += `<tr class="${clase}">
            <td class="col-nombre">${tipo.nombre}</td>
            <td class="col-armonico">${tipo.arm[0]}</td>
            <td class="col-armonico">${tipo.arm[1]}</td>
            <td class="col-armonico">${tipo.arm[2]}</td>
            <td class="col-armonico">${tipo.arm[3]}</td>
            <td class="col-americano">${cifrado}</td>
            <td class="col-americano">${cifrado}/${tipo.t}</td>
            <td class="col-americano">${cifrado}/${tipo.q}</td>
            <td class="col-americano">${cifrado}/${tipo.s}</td>
        </tr>`;
    });

    html += `</tbody></table>`;
    document.getElementById("tabla-cuatriadas").innerHTML = html;
}

actualizarTodo();
</script>

</body>
</html>